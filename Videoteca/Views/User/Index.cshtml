@model IEnumerable<Videoteca.Models.Movie_S_Genre>

@{
    ViewData["Title"] = "Index";
}
<head>
    <link rel="stylesheet" href="~/lib/slick-1.8.1/slick/slick.css"/>
    <link rel="stylesheet" href="~/lib/slick-1.8.1/slick/slick-theme.css" />
    <link href="https://file.myfontastic.com/keVpAvi8SaSZiH6aNpqDJ6/icons.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css" />
</head>

<h1 class="text-center display-3">Movies And Series</h1>

<body>

    <!--Input search name and -->
    <form class="filter">
        <div class="filter-group">
            <select name="">
                <option value="*">Select a genre</option>
                @foreach (var item in Model)
                {
                    <option>@item.genre</option>
                }
            </select>
            <datalist>
                @foreach (var item in Model)
                {
                    @foreach (var m in item.movies)
                    {
                        <option>@m.title</option>
                    }
                }
            </datalist>
            <input type="text" />
            <button class="icon-search"></button>
        </div>
    </form>


 <!-- <div class="actuales">

        @foreach (var m in Model)
        {
            <div class="d-flex flex-column justify-content-center align-items-center">
                @foreach (var movie in @m.movies)
                {
                    @if (movie.release_year.Equals(DateTime.Now.AddYears(-2).ToString("yyyy")) )
                    {
                
                            <img class="movie_img" src="@movie.movie_url">
                            <br>
                            <h3 class="display-4 text-capitalize">@movie.title</h3>
                            <br>
                            <p class="display-4 text-capitalize">@movie.release_year</p>
                            <br>
                            <form asp-action="InfoMovie" asp-route-id="@movie.id">
                                <button class="btn btn-info align-items-xxl-center" type="submit">View More</button>
                            </form>
                
                    }
                }
                    
            </div>
        }
       </div>-->
    @foreach (var item in Model)
    {
        <div class="movie">
            <h1 class="display-6">@item.genre</h1>
            <div id="carrousel-@item.genre" class="carrousel">
                    @if (item.movies.Count() > 0)
                    {
                        @foreach (var movie in @item.movies)
                        {
                            <div class="d-flex flex-column justify-content-center align-items-center">
                                <img class="movie_img" src="@movie.movie_url">
                                <br>
                                <h3>@movie.title</h3>
                                <br>
                                <p>@movie.release_year</p>
                                <br>
                                <form asp-action="InfoMovie" asp-route-id="@movie.id">
                                    <button id="viewM"  class="btn btn-info align-items-xxl-center" type="submit">View More</button>
                                </form>
                            </div>
                        }
                    }
                    else
                    {
                       <h2>There's no movies in this section</h2> 
                    }
            </div>
        </div>
    }
 
    <!--Librerias para slick, boostrap, jquery-->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="~/lib/slick-1.8.1/slick/slick.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
</body>
